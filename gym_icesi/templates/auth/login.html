{% extends 'base.html' %}
{% load static %}
{% block title %}Iniciar Sesi贸n - Gym Icesi{% endblock %}

{% block content %}
<div class="auth-hero">
	<div class="auth-visual" style="background-image: url('{% static 'img/login-hero.jpg' %}');" aria-hidden="true"></div>
	<div class="auth-form">
		<div class="card">
			<div style="text-align:center;margin-bottom:1.5rem;">
				<div style="font-size:3.5rem;margin-bottom:0.5rem;"></div>
				<h2 style="margin-bottom:0.25rem;">Gym Icesi</h2>
				<p style="color:#6b7280;font-size:0.95rem;margin:0;">Acceso Institucional</p>
				<p class="muted" style="margin-top:0.5rem;font-size:0.85rem;">Ingresa con tu cuenta institucional de la Universidad Icesi</p>
			</div>

			{% if form.errors %}
				<div style="background:#fee2e2;color:#991b1b;padding:1rem;border-radius:8px;margin-bottom:1rem;border-left:4px solid #ef4444;">
					<strong>锔 Error de autenticaci贸n</strong>
					<p style="margin:0.5rem 0 0 0;font-size:0.9rem;">
						{% if form.non_field_errors %}
							{{ form.non_field_errors|first }}
						{% else %}
							El usuario o la contrase帽a son incorrectos. Por favor, verifica tus credenciales e intenta nuevamente.
						{% endif %}
					</p>
				</div>
			{% endif %}
			
			{% if messages %}
				{% for message in messages %}
					{% if 'login_error' in message.tags %}
						<div style="background:#fee2e2;color:#991b1b;padding:1rem;border-radius:8px;margin-bottom:1rem;border-left:4px solid #ef4444;">
							<strong>锔 Error de autenticaci贸n</strong>
							<p style="margin:0.5rem 0 0 0;font-size:0.9rem;">
								{{ message }}
							</p>
						</div>
					{% endif %}
				{% endfor %}
			{% endif %}

			<form method="post">
				{% csrf_token %}

				<label for="id_username">Usuario Institucional</label>
				{{ form.username }}
				{% if form.username.errors %}
					<div style="background:#fee2e2;color:#991b1b;padding:0.5rem;border-radius:6px;margin-top:0.25rem;font-size:0.9rem;">
						{{ form.username.errors }}
					</div>
				{% endif %}

				<label for="id_password">Contrase帽a</label>
				{{ form.password }}
				{% if form.password.errors %}
					<div style="background:#fee2e2;color:#991b1b;padding:0.5rem;border-radius:6px;margin-top:0.25rem;font-size:0.9rem;">
						{{ form.password.errors }}
					</div>
				{% endif %}

				<button type="submit" class="btn" style="width:100%;margin-top:1.5rem;">
					Iniciar Sesi贸n
				</button>
			</form>

			<div style="text-align:center;margin-top:1.5rem;padding-top:1rem;border-top:1px solid #e5e7eb;">
				<p class="muted" style="font-size:0.85rem;margin:0.5rem 0;">
					<a href="#" style="color:#6b7280;text-decoration:none;" onclick="alert('Contacta a Soporte Icesi: soporte@icesi.edu.co'); return false;">
						驴Problemas con tu cuenta? Contacta Soporte Icesi
					</a>
				</p>
				<p class="muted" style="font-size:0.8rem;margin:0.5rem 0 0 0;color:#9ca3af;">
					<strong>Gym Icesi</strong> - Bienestar Universitario<br>
					Universidad Icesi
				</p>
			</div>
		</div>
	</div>
</div>
{% endblock %}
